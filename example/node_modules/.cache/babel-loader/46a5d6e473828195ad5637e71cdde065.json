{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _classnames = require(\"classnames\");\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _autocomplete = require(\"./autocomplete\");\n\nvar _autocomplete2 = _interopRequireDefault(_autocomplete);\n\nvar _textInput = require(\"./text-input\");\n\nvar _textInput2 = _interopRequireDefault(_textInput);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar TagInput = function (_React$Component) {\n  _inherits(TagInput, _React$Component);\n\n  function TagInput(props) {\n    _classCallCheck(this, TagInput);\n\n    var _this = _possibleConstructorReturn(this, (TagInput.__proto__ || Object.getPrototypeOf(TagInput)).call(this, props));\n\n    _this.state = {\n      tagName: !!_this.props.inputValue ? _this.props.inputValue : \"\",\n      autocompleteItems: [],\n      tags: _this.props.tags ? _this.props.tags : []\n    };\n    _this.addTag = _this.addTag.bind(_this);\n    _this.handelTag = _this.handelTag.bind(_this);\n    _this.handleAutocomplete = _this.handleAutocomplete.bind(_this);\n    _this.onSelect = _this.onSelect.bind(_this);\n    _this.onDelete = _this.onDelete.bind(_this);\n    return _this;\n  }\n\n  _createClass(TagInput, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.dynamicInputWidth) {\n        this.refs.tagInput.style.display = \"flex\";\n        this.refs.tagInput.style.flexWrap = \"wrap\";\n        this.refs.tagInput.lastChild.style.flex = \"1 1\";\n      }\n\n      if (this.props.inputValue) {\n        var tagName = this.props.inputValue;\n        this.setState({\n          tagName: tagName\n        });\n        if (!!this.props.autocomplete) this.handleAutocomplete(tagName);\n      }\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if (!!nextProps[\"tags\"]) {\n        this.setState({\n          tags: nextProps.tags\n        });\n      }\n\n      if (!!nextProps[\"autocomplete\"] && nextProps[\"autocomplete\"].items) {\n        if (nextProps.tags.length === 0 && nextProps.showAutocomplete) {\n          this.setState({\n            autocompleteItems: nextProps[\"autocomplete\"].items\n          });\n        }\n\n        if (nextProps.tags.length > 0 && nextProps.showAutocomplete) {\n          this.setState({\n            autocompleteItems: nextProps[\"autocomplete\"].items.filter(function (item) {\n              return !nextProps.tags.find(function (tag) {\n                return JSON.stringify(tag) === JSON.stringify(item);\n              });\n            })\n          });\n        }\n\n        if (this.props.showAutocomplete && nextProps.showAutocomplete !== this.props.showAutocomplete) {\n          this.setState({\n            autocompleteItems: []\n          });\n        }\n      }\n\n      if (this.props.inputValue) {\n        var tagName = !!nextProps[\"inputValue\"] ? nextProps[\"inputValue\"] : \"\";\n        this.setState({\n          tagName: tagName\n        });\n        if (!!this.props.autocomplete) this.handleAutocomplete(tagName);\n      }\n\n      if (!this.props.inputValue && !nextProps.showAutocomplete) {\n        this.setState({\n          autocompleteItems: []\n        });\n      }\n    }\n  }, {\n    key: \"handelTag\",\n    value: function handelTag(e) {\n      if (this.props.onInputChange) this.props.onInputChange(e);\n\n      if (this.props.createTagOnPress) {\n        var value = e.target.value;\n\n        if (this.props.createTagOnPress.indexOf(value.slice(-1)) !== -1) {\n          this.addTag({\n            target: {\n              value: value.slice(0, -1)\n            }\n          });\n        } else {\n          this.setState({\n            tagName: e.target.value\n          });\n        }\n      } else {\n        this.setState({\n          tagName: e.target.value\n        });\n      }\n\n      if (!!this.props.autocomplete) this.handleAutocomplete(e.target.value);\n    }\n  }, {\n    key: \"handleAutocomplete\",\n    value: function handleAutocomplete(value) {\n      var autocomplete = this.props.autocomplete;\n\n      if (!!autocomplete.items && autocomplete.items.length > 0 && value.length > 0) {\n        var searchQuery = value.toLowerCase();\n        var arr = autocomplete.items.filter(function (el) {\n          if (!!autocomplete.searchKey) {\n            if (!el[autocomplete.searchKey]) return false;\n            var key = (\"\" + el[autocomplete.searchKey]).toLowerCase();\n            return key.indexOf(searchQuery) !== -1;\n          } else if (!!autocomplete.searchPath) {\n            return autocomplete.searchPath.split(\".\").reduce(function (obj, key, i, arr) {\n              if (arr.length - 1 === i) {\n                var k = (\"\" + obj[key]).toLowerCase();\n                return k.indexOf(searchQuery) !== -1;\n              }\n\n              return obj[key];\n            }, el);\n          } else {\n            var _key = (\"\" + el).toLowerCase();\n\n            return _key.indexOf(searchQuery) !== -1;\n          }\n        });\n        this.setState({\n          autocompleteItems: arr\n        });\n      } else {\n        if (!this.props.showAutocomplete) this.setState({\n          autocompleteItems: []\n        });\n      }\n    }\n  }, {\n    key: \"addTag\",\n    value: function addTag(e) {\n      var tags = e.target.value.length > 0 ? this.state.tags.concat([{\n        name: e.target.value\n      }]) : this.state.tags;\n      this.setState({\n        tagName: \"\",\n        tags: tags\n      });\n      if (this.props.onAdd) this.props.onAdd({\n        name: e.target.value\n      });\n      if (this.props.onChange) this.props.onChange(tags);\n    }\n  }, {\n    key: \"onSelect\",\n    value: function onSelect(item) {\n      var tags = this.state.tags.concat([item]);\n      this.setState({\n        autocompleteItems: this.state.autocompleteItems.filter(function (i) {\n          return JSON.stringify(i) !== JSON.stringify(item);\n        }),\n        tagName: \"\",\n        tags: tags\n      });\n      if (this.props.onAdd) this.props.onAdd(item);\n      if (this.props.onChange) this.props.onChange(tags);\n      if (this.props.onSelect) this.props.onSelect(item, tags);\n    }\n  }, {\n    key: \"onDelete\",\n    value: function onDelete(tag, actionIndex) {\n      var tags = this.state.tags.filter(function (tag, tagIndex) {\n        if (tagIndex !== actionIndex) {\n          return tag;\n        }\n      });\n      this.setState({\n        tags: tags\n      });\n      if (this.props.onDelete) this.props.onDelete(tag, actionIndex, tags);\n      if (this.props.onChange) this.props.onChange(tags);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var autocomplete = _react2.default.createElement(_autocomplete2.default, {\n        renderItem: this.props.renderAutocompleteItem,\n        onSelect: this.onSelect,\n        className: (0, _classnames2.default)(\"rc-tag-input\", this.props.autocomplete && this.props.autocomplete.className),\n        autocomplete: this.state.autocompleteItems,\n        label: this.props.autocomplete && this.props.autocomplete.label\n      });\n\n      var autocompleteIsShown = this.props.showAutocomplete !== null ? this.props.showAutocomplete : !!this.props.autocomplete && this.state.autocompleteItems.length > 0;\n      return _react2.default.createElement(\"div\", {\n        className: (0, _classnames2.default)(\"rc-input-wrap\", this.props.classNameWrap)\n      }, _react2.default.createElement(\"ul\", {\n        className: (0, _classnames2.default)(\"rc-tag-input\", this.props.className),\n        ref: \"tagInput\"\n      }, this.state.tags.map(function (tag, index) {\n        var props = {};\n\n        if (tag.href) {\n          props[\"href\"] = tag.href;\n          props[\"target\"] = \"_blank\";\n        }\n\n        return _react2.default.createElement(\"li\", {\n          key: \"tag-\" + index,\n          className: (0, _classnames2.default)(\"tag\", tag.className),\n          style: tag.style\n        }, _react2.default.createElement(\"a\", _extends({\n          className: \"name\"\n        }, props), tag.name ? tag.name : tag), _react2.default.createElement(\"a\", {\n          onClick: _this2.onDelete.bind(_this2, tag, index),\n          className: \"btn-close\"\n        }));\n      }), this.props.children ? _react2.default.createElement(\"li\", null, this.props.children, autocompleteIsShown && this.props.autocomplete.isUnderInput && autocomplete) : _react2.default.createElement(\"li\", {\n        className: \"input-area\"\n      }, _react2.default.createElement(_textInput2.default, {\n        value: this.state.tagName,\n        placeholder: this.props.placeholder,\n        onChange: this.handelTag,\n        clickableKeys: this.props.createTagOnKeys,\n        onKeyClick: this.addTag,\n        onFocus: this.props.onFocus,\n        onBlur: this.props.onBlur,\n        onPaste: this.props.onPaste\n      }), autocompleteIsShown && this.props.autocomplete.isUnderInput && autocomplete)), autocompleteIsShown && !this.props.autocomplete.isUnderInput && autocomplete);\n    }\n  }]);\n\n  return TagInput;\n}(_react2.default.Component);\n\nexports.default = TagInput;\nTagInput.propTypes = {\n  children: _propTypes2.default.node,\n  inputValue: _propTypes2.default.string,\n  placeholder: _propTypes2.default.string,\n  tags: _propTypes2.default.array,\n  autocomplete: _propTypes2.default.shape({\n    label: _propTypes2.default.string,\n    searchKey: _propTypes2.default.string,\n    searchPath: _propTypes2.default.string,\n    items: _propTypes2.default.array,\n    className: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.array]),\n    isUnderInput: _propTypes2.default.bool\n  }),\n  renderAutocompleteItem: _propTypes2.default.func,\n  showAutocomplete: _propTypes2.default.any,\n  disableInput: _propTypes2.default.bool,\n  createTagOnPress: _propTypes2.default.array,\n  createTagOnKeys: _propTypes2.default.array,\n  className: _propTypes2.default.string,\n  classNameWrap: _propTypes2.default.string,\n  dynamicInputWidth: _propTypes2.default.bool,\n  onInputChange: _propTypes2.default.func,\n  onFocus: _propTypes2.default.func,\n  onBlur: _propTypes2.default.func,\n  onPaste: _propTypes2.default.func,\n  onChange: _propTypes2.default.func,\n  onDelete: _propTypes2.default.func,\n  onAdd: _propTypes2.default.func,\n  onSelect: _propTypes2.default.func\n};\nTagInput.defaultProps = {\n  disableInput: false,\n  showAutocomplete: null,\n  createTagOnKeys: [13]\n};","map":{"version":3,"sources":["/home/gauravpendherkar/Desktop/Library/sample-library-npm/example/node_modules/rc-inputs/lib/tag-input.js"],"names":["Object","defineProperty","exports","value","default","undefined","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_react","require","_react2","_interopRequireDefault","_propTypes","_propTypes2","_classnames","_classnames2","_autocomplete","_autocomplete2","_textInput","_textInput2","obj","__esModule","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","TagInput","_React$Component","_this","getPrototypeOf","state","tagName","inputValue","autocompleteItems","tags","addTag","bind","handelTag","handleAutocomplete","onSelect","onDelete","componentDidMount","dynamicInputWidth","refs","tagInput","style","display","flexWrap","lastChild","flex","setState","autocomplete","componentWillReceiveProps","nextProps","items","showAutocomplete","filter","item","find","tag","JSON","stringify","e","onInputChange","createTagOnPress","indexOf","slice","searchQuery","toLowerCase","arr","el","searchKey","searchPath","split","reduce","k","_key","concat","name","onAdd","onChange","actionIndex","tagIndex","render","_this2","createElement","renderItem","renderAutocompleteItem","className","label","autocompleteIsShown","classNameWrap","ref","map","index","href","onClick","children","isUnderInput","placeholder","clickableKeys","createTagOnKeys","onKeyClick","onFocus","onBlur","onPaste","Component","propTypes","node","string","array","shape","oneOfType","bool","func","any","disableInput","defaultProps"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _classnames = require(\"classnames\");\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _autocomplete = require(\"./autocomplete\");\n\nvar _autocomplete2 = _interopRequireDefault(_autocomplete);\n\nvar _textInput = require(\"./text-input\");\n\nvar _textInput2 = _interopRequireDefault(_textInput);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar TagInput = function (_React$Component) {\n  _inherits(TagInput, _React$Component);\n\n  function TagInput(props) {\n    _classCallCheck(this, TagInput);\n\n    var _this = _possibleConstructorReturn(this, (TagInput.__proto__ || Object.getPrototypeOf(TagInput)).call(this, props));\n\n    _this.state = {\n      tagName: !!_this.props.inputValue ? _this.props.inputValue : \"\",\n      autocompleteItems: [],\n      tags: _this.props.tags ? _this.props.tags : []\n    };\n    _this.addTag = _this.addTag.bind(_this);\n    _this.handelTag = _this.handelTag.bind(_this);\n    _this.handleAutocomplete = _this.handleAutocomplete.bind(_this);\n    _this.onSelect = _this.onSelect.bind(_this);\n    _this.onDelete = _this.onDelete.bind(_this);\n    return _this;\n  }\n\n  _createClass(TagInput, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.dynamicInputWidth) {\n        this.refs.tagInput.style.display = \"flex\";\n        this.refs.tagInput.style.flexWrap = \"wrap\";\n        this.refs.tagInput.lastChild.style.flex = \"1 1\";\n      }\n\n      if (this.props.inputValue) {\n        var tagName = this.props.inputValue;\n        this.setState({\n          tagName: tagName\n        });\n        if (!!this.props.autocomplete) this.handleAutocomplete(tagName);\n      }\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if (!!nextProps[\"tags\"]) {\n        this.setState({\n          tags: nextProps.tags\n        });\n      }\n\n      if (!!nextProps[\"autocomplete\"] && nextProps[\"autocomplete\"].items) {\n        if (nextProps.tags.length === 0 && nextProps.showAutocomplete) {\n          this.setState({\n            autocompleteItems: nextProps[\"autocomplete\"].items\n          });\n        }\n\n        if (nextProps.tags.length > 0 && nextProps.showAutocomplete) {\n          this.setState({\n            autocompleteItems: nextProps[\"autocomplete\"].items.filter(function (item) {\n              return !nextProps.tags.find(function (tag) {\n                return JSON.stringify(tag) === JSON.stringify(item);\n              });\n            })\n          });\n        }\n\n        if (this.props.showAutocomplete && nextProps.showAutocomplete !== this.props.showAutocomplete) {\n          this.setState({\n            autocompleteItems: []\n          });\n        }\n      }\n\n      if (this.props.inputValue) {\n        var tagName = !!nextProps[\"inputValue\"] ? nextProps[\"inputValue\"] : \"\";\n        this.setState({\n          tagName: tagName\n        });\n        if (!!this.props.autocomplete) this.handleAutocomplete(tagName);\n      }\n\n      if (!this.props.inputValue && !nextProps.showAutocomplete) {\n        this.setState({\n          autocompleteItems: []\n        });\n      }\n    }\n  }, {\n    key: \"handelTag\",\n    value: function handelTag(e) {\n      if (this.props.onInputChange) this.props.onInputChange(e);\n\n      if (this.props.createTagOnPress) {\n        var value = e.target.value;\n        if (this.props.createTagOnPress.indexOf(value.slice(-1)) !== -1) {\n          this.addTag({ target: { value: value.slice(0, -1) } });\n        } else {\n          this.setState({ tagName: e.target.value });\n        }\n      } else {\n        this.setState({ tagName: e.target.value });\n      }\n\n      if (!!this.props.autocomplete) this.handleAutocomplete(e.target.value);\n    }\n  }, {\n    key: \"handleAutocomplete\",\n    value: function handleAutocomplete(value) {\n      var autocomplete = this.props.autocomplete;\n\n      if (!!autocomplete.items && autocomplete.items.length > 0 && value.length > 0) {\n        var searchQuery = value.toLowerCase();\n\n        var arr = autocomplete.items.filter(function (el) {\n          if (!!autocomplete.searchKey) {\n            if (!el[autocomplete.searchKey]) return false;\n            var key = (\"\" + el[autocomplete.searchKey]).toLowerCase();\n            return key.indexOf(searchQuery) !== -1;\n          } else if (!!autocomplete.searchPath) {\n            return autocomplete.searchPath.split(\".\").reduce(function (obj, key, i, arr) {\n              if (arr.length - 1 === i) {\n                var k = (\"\" + obj[key]).toLowerCase();\n                return k.indexOf(searchQuery) !== -1;\n              }\n              return obj[key];\n            }, el);\n          } else {\n            var _key = (\"\" + el).toLowerCase();\n            return _key.indexOf(searchQuery) !== -1;\n          }\n        });\n\n        this.setState({\n          autocompleteItems: arr\n        });\n      } else {\n        if (!this.props.showAutocomplete) this.setState({\n          autocompleteItems: []\n        });\n      }\n    }\n  }, {\n    key: \"addTag\",\n    value: function addTag(e) {\n      var tags = e.target.value.length > 0 ? this.state.tags.concat([{ name: e.target.value }]) : this.state.tags;\n      this.setState({\n        tagName: \"\",\n        tags: tags\n      });\n      if (this.props.onAdd) this.props.onAdd({ name: e.target.value });\n      if (this.props.onChange) this.props.onChange(tags);\n    }\n  }, {\n    key: \"onSelect\",\n    value: function onSelect(item) {\n      var tags = this.state.tags.concat([item]);\n\n      this.setState({\n        autocompleteItems: this.state.autocompleteItems.filter(function (i) {\n          return JSON.stringify(i) !== JSON.stringify(item);\n        }),\n        tagName: \"\",\n        tags: tags\n      });\n\n      if (this.props.onAdd) this.props.onAdd(item);\n      if (this.props.onChange) this.props.onChange(tags);\n      if (this.props.onSelect) this.props.onSelect(item, tags);\n    }\n  }, {\n    key: \"onDelete\",\n    value: function onDelete(tag, actionIndex) {\n      var tags = this.state.tags.filter(function (tag, tagIndex) {\n        if (tagIndex !== actionIndex) {\n          return tag;\n        }\n      });\n      this.setState({\n        tags: tags\n      });\n      if (this.props.onDelete) this.props.onDelete(tag, actionIndex, tags);\n      if (this.props.onChange) this.props.onChange(tags);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var autocomplete = _react2.default.createElement(_autocomplete2.default, {\n        renderItem: this.props.renderAutocompleteItem,\n        onSelect: this.onSelect,\n        className: (0, _classnames2.default)(\"rc-tag-input\", this.props.autocomplete && this.props.autocomplete.className),\n        autocomplete: this.state.autocompleteItems,\n        label: this.props.autocomplete && this.props.autocomplete.label\n      });\n      var autocompleteIsShown = this.props.showAutocomplete !== null ? this.props.showAutocomplete : !!this.props.autocomplete && this.state.autocompleteItems.length > 0;\n\n      return _react2.default.createElement(\n        \"div\",\n        { className: (0, _classnames2.default)(\"rc-input-wrap\", this.props.classNameWrap) },\n        _react2.default.createElement(\n          \"ul\",\n          { className: (0, _classnames2.default)(\"rc-tag-input\", this.props.className), ref: \"tagInput\" },\n          this.state.tags.map(function (tag, index) {\n            var props = {};\n            if (tag.href) {\n              props[\"href\"] = tag.href;\n              props[\"target\"] = \"_blank\";\n            }\n            return _react2.default.createElement(\n              \"li\",\n              { key: \"tag-\" + index, className: (0, _classnames2.default)(\"tag\", tag.className), style: tag.style },\n              _react2.default.createElement(\n                \"a\",\n                _extends({ className: \"name\" }, props),\n                tag.name ? tag.name : tag\n              ),\n              _react2.default.createElement(\"a\", { onClick: _this2.onDelete.bind(_this2, tag, index), className: \"btn-close\" })\n            );\n          }),\n          this.props.children ? _react2.default.createElement(\n            \"li\",\n            null,\n            this.props.children,\n            autocompleteIsShown && this.props.autocomplete.isUnderInput && autocomplete\n          ) : _react2.default.createElement(\n            \"li\",\n            { className: \"input-area\" },\n            _react2.default.createElement(_textInput2.default, {\n              value: this.state.tagName,\n              placeholder: this.props.placeholder,\n              onChange: this.handelTag,\n              clickableKeys: this.props.createTagOnKeys,\n              onKeyClick: this.addTag,\n              onFocus: this.props.onFocus,\n              onBlur: this.props.onBlur,\n              onPaste: this.props.onPaste\n            }),\n            autocompleteIsShown && this.props.autocomplete.isUnderInput && autocomplete\n          )\n        ),\n        autocompleteIsShown && !this.props.autocomplete.isUnderInput && autocomplete\n      );\n    }\n  }]);\n\n  return TagInput;\n}(_react2.default.Component);\n\nexports.default = TagInput;\n\n\nTagInput.propTypes = {\n  children: _propTypes2.default.node,\n  inputValue: _propTypes2.default.string,\n  placeholder: _propTypes2.default.string,\n  tags: _propTypes2.default.array,\n  autocomplete: _propTypes2.default.shape({\n    label: _propTypes2.default.string,\n    searchKey: _propTypes2.default.string,\n    searchPath: _propTypes2.default.string,\n    items: _propTypes2.default.array,\n    className: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.array]),\n    isUnderInput: _propTypes2.default.bool\n  }),\n  renderAutocompleteItem: _propTypes2.default.func,\n  showAutocomplete: _propTypes2.default.any,\n  disableInput: _propTypes2.default.bool,\n  createTagOnPress: _propTypes2.default.array,\n  createTagOnKeys: _propTypes2.default.array,\n  className: _propTypes2.default.string,\n  classNameWrap: _propTypes2.default.string,\n  dynamicInputWidth: _propTypes2.default.bool,\n  onInputChange: _propTypes2.default.func,\n  onFocus: _propTypes2.default.func,\n  onBlur: _propTypes2.default.func,\n  onPaste: _propTypes2.default.func,\n  onChange: _propTypes2.default.func,\n  onDelete: _propTypes2.default.func,\n  onAdd: _propTypes2.default.func,\n  onSelect: _propTypes2.default.func\n};\n\nTagInput.defaultProps = {\n  disableInput: false,\n  showAutocomplete: null,\n  createTagOnKeys: [13]\n};"]},"metadata":{},"sourceType":"script"}